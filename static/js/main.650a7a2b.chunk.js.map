{"version":3,"sources":["components/layout.js","utils/firebase.js","components/randomToiletQuote.js","components/panorama.js","components/preview.js","components/submissionsSortingDropdown.js","Admin.js","components/map.js","components/status.js","components/submitted.js","components/helpButton.js","components/locationHelp.js","App.js","components/switchPortals.js","Main.js","index.js"],"names":["layout","_ref","children","react_default","a","createElement","style","margin","maxWidth","padding","firebase","require","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","quoteStyle","color","fontFamily","fontSize","fontStyle","lineHeight","textShadow","zIndex","textAlign","RandomToiletQuote","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","unmounted","db","firestore","_this2","collection","doc","get","then","quotes","data","randomQuote","Math","floor","random","length","setState","quote","catch","React","Component","Panorama","viewer","window","pannellum","type","panorama","url","vaov","maxPitch","minPitch","autoLoad","destroy","id","width","height","Preview","submission","staticMapUrl","concat","lat","lon","facilities","handicapped","separateHandicapped","bool","textDecoration","name","src","alt","listStyle","glanceStyle","male","className","female","handicappedText","waterCooler","showerHeads","hose","SubmissionsSortingDropdown","FormControl","InputLabel","Select","value","autoWidth","onChange","handleSorting","MenuItem","Admin","submissionsDb","toiletDb","reviewsDb","storage","bind","assertThisInitialized","submissions","submissionToReject","submissionToApprove","remarks","previewRow","approveDialogOpened","rejectDialogOpened","sortBy","showAcceptedReviews","getAllSubmissions","newSubmissions","map","Map","users","forEach","userObj","user","currentUser","uid","userName","userPhoto","photoURL","onSnapshot","querySnapshot","docChanges","obj","userUid","currentUserName","docId","date","isFemale","isMale","isHandicapped","isSeparateHandicapped","hasHose","hasShowerHeads","hasWaterCooler","paranomaUrl","panoramaFileName","fileName","status","approval","has","idToRemove","rowId","find","element","set","push","index","target","submissionIndex","_this3","update","refFromURL","getDownloadURL","xhr","XMLHttpRequest","responseType","onload","event","blob","response","uploadTask","ref","child","put","on","error","console","log","snapshot","panoramaUrl","open","send","_this4","alert","defineProperty","_this5","filter","unfilteredSubmission","showApprovedReviews","i","Fragment","key","TableRow","TableCell","ListItem","justifyContent","flexDirection","Avatar","Typography","variant","noWrap","Button","onClick","toDate","toLocaleString","day","month","year","hour","minute","generateFacilities","size","TextField","multiline","undefined","inputProps","handleTextChange","IconButton","triggerDialogToConfirmApprove","Check_default","handleRejectSubmissionClicked","Clear_default","colSpan","preview","assign","slice","sort","compareByName","compareByDate","compareByStatus","_this6","Container","Paper","Dialog","onClose","DialogTitle","DialogContent","DialogContentText","DialogActions","approveSubmission","rejectSubmission","submissionsSortingDropdown_SubmissionsSortingDropdown","Table","minWidth","TableHead","TableBody","generateTable","b","localeCompare","aValue","bValue","navigator","geolocation","setLocationAvailable","watchPosition","position","coords","latitude","longitude","updateMyLocation","myLocation","setPosition","lng","accuracyRadius","setCenter","setRadius","accuracy","setLocationNotAvailable","enableHighAccuracy","NUS","google","maps","document","getElementById","zoom","center","Marker","icon","Circle","radius","fillColor","fillOpacity","strokeWeight","addListener","e","handleMapClick","latLng","marker","setMap","getPosition","self","centerControlDiv","controlDiv","controlUI","backgroundColor","border","borderRadius","boxShadow","cursor","marginBottom","title","appendChild","controlText","innerHTML","addEventListener","controls","ControlPosition","LEFT_BOTTOM","watchLocation","clearWatch","Status","remarksShown","Submission","status_Status","previewId","handleHide","handlePreview","disabled","handleEdit","handleDelete","Delete_default","Submitted","loading","x","submitted_Submission","HelpButton","esm","content","arrow","trigger","placement","interactive","verticalAlign","href","rel","locationHelp","helpButton","uniqid","App","myLat","myLon","progress","progressShown","submissionsShown","isLocationAvailable","edit","editPanorama","editDocId","fileInput","createRef","handleInputChange","setToCurrentLocation","handleSubmit","_this$setState2","checked","preventDefault","trim","Date","now","delete","location","reload","current","files","test","Resizer","imageFileResizer","TaskEvent","STATE_CHANGED","bytesTransferred","totalBytes","err","displayName","submissionId","confirm","scrollTo","onSubmit","label","placeholder","fullWidth","InputLabelProps","shrink","marginRight","FormLabel","component","FormGroup","FormControlLabel","control","Checkbox","accept","display","htmlFor","submitted","SwitchPortals","isAdmin","Admin_Admin","src_App","uiConfig","signInOptions","auth","GoogleAuthProvider","PROVIDER_ID","Main","isSignedIn","unregisterAuthObserver","onAuthStateChanged","signOut","email","switchPortals_SwitchPortals","StyledFirebaseAuth_default","firebaseAuth","randomToiletQuote_RandomToiletQuote","typography","fairyGatesTheme","injectStyles","injectFonts","ReactDOM","render","Main_Main"],"mappings":"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","file":"static/js/main.650a7a2b.chunk.js","sourcesContent":["import React from 'react';\n\nexport default ({children}) => (\n  <div style={{margin: `3rem auto`, maxWidth: 650, padding: `0 1rem`}}>\n    {children}\n  </div>\n);\n","const firebase = require('firebase/app');\nrequire('firebase/firestore');\nrequire(\"firebase/auth\");\nrequire(\"firebase/storage\");\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_GOOGLE_API_KEY,\n  authDomain: \"let-it-go-e6229.firebaseapp.com\",\n  databaseURL: \"https://let-it-go-e6229.firebaseio.com\",\n  projectId: \"let-it-go-e6229\",\n  storageBucket: \"let-it-go-e6229.appspot.com\",\n  messagingSenderId: \"917575844853\",\n  appId: \"1:917575844853:web:88ec0cbe059a0d43\",\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nexport default firebase;\n","import React from 'react';\nimport firebase from '../utils/firebase';\n\nconst quoteStyle = {\n  color: 'gray',\n  fontFamily: 'Georgia, serif',\n  fontSize: '1.5em',\n  fontStyle: 'italic',\n  lineHeight: '1.4',\n  margin: '0',\n  textShadow: '0 1px white',\n  zIndex: '600',\n  textAlign: 'center',\n};\n\nexport default class RandomToiletQuote extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n    this.unmounted = false;\n    this.db = firebase.firestore();\n  }\n\n  componentDidMount() {\n    this.db\n      .collection('toiletQuotes')\n      .doc('quotes')\n      .get()\n      .then(doc => {\n        const quotes = doc.data().quotes;\n        const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];\n        if (!this.unmounted) {\n          this.setState({quote: '“' + randomQuote + '”'});\n        }\n      })\n      .catch(() =>\n        this.setState({quote: '“Feces are meant to be released in peace.”'}),\n      );\n  }\n\n  componentWillUnmount() {\n    this.unmounted = true;\n  }\n\n  render() {\n    return <p style={quoteStyle}>{this.state.quote}</p>;\n  }\n}\n","import React from 'react';\n\nclass Panorama extends React.Component {\n  componentDidMount() {\n    this.viewer = window.pannellum.viewer('panorama', {\n      type: 'equirectangular',\n      panorama: this.props.url,\n      vaov: 45,\n      maxPitch: 0,\n      minPitch: 0,\n      autoLoad: true,\n    });\n  }\n\n  componentWillUnmount() {\n    this.viewer.destroy();\n  }\n\n  render() {\n    return (\n      <div>\n        <div id=\"panorama\" style={{width: '100%', height: 200}} />\n      </div>\n    );\n  }\n}\n\nexport default Panorama;\n","import React from 'react';\nimport Layout from './layout';\nimport Panorama from './panorama';\n\nclass Preview extends React.Component {\n  constructor(props) {\n    super(props);\n    this.submission = this.props.submission;\n\n    this.staticMapUrl = `https://maps.googleapis.com/maps/api/staticmap?size=650x300&markers=|${this.submission.lat}, ${this.submission.lon}&key=${process.env.REACT_APP_GOOGLE_API_KEY}`;\n  }\n\n  handicappedText() {\n    if (!this.submission.facilities.handicapped) {\n      return 'Is handicapped accessible';\n    } else if (!this.submission.facilities.separateHandicapped)\n      return 'Is handicapped accessible (Handicapped cubicle inside toilet)';\n    else {\n      return 'Is handicapped accessible (Has separate handicapped toilet)';\n    }\n  }\n\n  glanceStyle(bool) {\n    return {\n      textDecoration: bool ? '' : 'line-through',\n      color: bool ? '' : 'gray',\n    };\n  }\n\n  render() {\n    return (\n      <Layout>\n        <h3>{this.submission.name}</h3>\n        <img src={this.staticMapUrl} alt=\"Static map preview\" />\n        <Panorama url={this.submission.panorama.url} />\n        <h4>At a glance</h4>\n        <ul style={{listStyle: 'none'}}>\n          <li style={this.glanceStyle(this.submission.facilities.male)}>\n            <i className=\"em-svg em-man-raising-hand\" />\n            Has Male toilet\n          </li>\n          <li style={this.glanceStyle(this.submission.facilities.female)}>\n            <i className=\"em-svg em-woman-raising-hand\" />\n            Has Female toilet\n          </li>\n          <li style={this.glanceStyle(this.submission.facilities.handicapped)}>\n            <i className=\"em-svg em-wheelchair\" />\n            {this.handicappedText()}\n          </li>\n          <li style={this.glanceStyle(this.submission.facilities.waterCooler)}>\n            <i className=\"em-svg em-potable_water\" />\n            Has water cooler\n          </li>\n          <li style={this.glanceStyle(this.submission.facilities.showerHeads)}>\n            <i className=\"em-svg em-shower\" />\n            Has shower heads\n          </li>\n          <li style={this.glanceStyle(this.submission.facilities.hose)}>\n            <i className=\"em-svg em-sweat_drops\" />\n            Has hose\n          </li>\n        </ul>\n      </Layout>\n    );\n  }\n}\n\nexport default Preview;\n","import React from 'react';\n\n// Material UI imports\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\n\nexport default class SubmissionsSortingDropdown extends React.Component {\n  render() {\n    return (\n      <FormControl>\n        <InputLabel>Sort by</InputLabel>\n        <Select\n          value={this.props.value}\n          autoWidth\n          onChange={this.props.handleSorting}\n        >\n          <MenuItem value=\"name\">Name</MenuItem>\n          <MenuItem value=\"date\">Date (Newest first)</MenuItem>\n          <MenuItem value=\"status\">Status</MenuItem>\n        </Select>\n      </FormControl>\n    );\n  }\n}\n","import React from 'react';\nimport Preview from './components/preview';\nimport SortingDropdown from './components/submissionsSortingDropdown';\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport firebase from './utils/firebase';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Button from '@material-ui/core/Button';\nimport {\n  DialogContent,\n  DialogTitle,\n  Dialog,\n  DialogActions,\n  DialogContentText,\n  TextField,\n  Avatar,\n  ListItem,\n  Container,\n  Typography,\n  IconButton,\n} from '@material-ui/core';\nimport CheckIcon from '@material-ui/icons/Check'\nimport ClearIcon from '@material-ui/icons/Clear'\n\nexport default class Admin extends React.Component {\n  constructor(props) {\n    super(props);\n    this.submissionsDb = firebase.firestore().collection('userSubmissions');\n    this.toiletDb = firebase.firestore().collection('toilets');\n    this.reviewsDb = firebase.firestore().collection('reviews');\n\n    this.storage = firebase.storage();\n\n    this.handleSorting = this.handleSorting.bind(this);\n\n    this.state = {\n      submissions: [],\n      submissionToReject: {},\n      submissionToApprove: {},\n      remarks: '',\n      previewRow: null,\n      approveDialogOpened: false,\n      rejectDialogOpened: false,\n\n      sortBy: 'date',\n\n      showAcceptedReviews: false,\n    };\n    this.getAllSubmissions();\n  }\n\n  getAllSubmissions() {\n    let newSubmissions = [];\n    const map = new Map();\n\n    this.submissionsDb.get().then(users => {\n      users.forEach(userObj => {\n        let user = userObj.data().currentUser.uid;\n        let userName = userObj.data().currentUser.name;\n        let userPhoto = userObj.data().currentUser.photoURL;\n\n        this.submissionsDb\n          .doc(user)\n          .collection('submissions')\n          .onSnapshot(querySnapshot => {\n            querySnapshot.docChanges().forEach(submission => {\n              let obj = {\n                userUid: user,\n                currentUserName: userName,\n                userPhoto: userPhoto,\n                docId: submission.doc.id,\n                date: submission.doc.data().date,\n                isFemale: submission.doc.data().facilities.female,\n                isMale: submission.doc.data().facilities.male,\n                isHandicapped: submission.doc.data().facilities.handicapped,\n                isSeparateHandicapped: submission.doc.data().facilities\n                  .separateHandicapped,\n                hasHose: submission.doc.data().facilities.hose,\n                hasShowerHeads: submission.doc.data().facilities.showerHeads,\n                hasWaterCooler: submission.doc.data().facilities.waterCooler,\n                lat: submission.doc.data().lat,\n                lon: submission.doc.data().lon,\n                name: submission.doc.data().name,\n                paranomaUrl: submission.doc.data().panorama.url,\n\n                // Needed for reupload of file\n                panoramaFileName: submission.doc.data().panorama.fileName,\n\n                // editing\n                status: submission.doc.data().status.approval,\n                remarks: submission.doc.data().status.remarks,\n              };\n\n              if (!map.has(obj.docId)) {\n                map.set(obj.docId, true);\n                newSubmissions.push(obj);\n              } else {\n                let idToRemove = submission.doc.id;\n                let submissionToRemove = newSubmissions.find(\n                  element => element.docId === idToRemove,\n                );\n                let rowId = submissionToRemove.rowId;\n                newSubmissions[rowId] = obj\n              }\n            });\n\n\n            // Sorts by date by default\n            // newSubmissions.sort(compareByDate);\n\n            let index = -1;\n            newSubmissions.map(submission => {\n              index++;\n              submission.rowId = index;\n              return submission;\n            });\n\n\n            this.setState({ submissions: newSubmissions });\n            this.handleSorting({ target: { value: this.state.sortBy } })\n          });\n      });\n\n    });\n\n  }\n\n  generateFacilities(submission) {\n    return (\n      <div style={{ textAlign: 'center' }}>\n        {submission.isMale && <i className=\"em-svg em-man-raising-hand\" />}\n        {submission.isFemale && <i className=\"em-svg em-woman-raising-hand\" />}\n        {submission.hasWaterCooler && (\n          <i className=\"em-svg em-potable_water\" />\n        )}{' '}\n        {submission.hasShowerHeads && <i className=\"em-svg em-shower\" />}{' '}\n        {submission.hasHose && <i className=\"em-svg em-sweat_drops\" />}{' '}\n        {submission.isHandicapped && <i className=\"em-svg em-wheelchair\" />}\n      </div>\n    );\n  }\n\n\n\n  triggerDialogToConfirmApprove(submission, index) {\n    this.setState({\n      submissionToApprove: submission,\n      submissionIndex: index,\n      approveDialogOpened: true,\n    });\n  }\n\n  approveSubmission() {\n    let remarks = this.state.remarks[this.state.submissionIndex];\n    let submission = this.state.submissionToApprove;\n    this.submissionsDb\n      .doc(this.state.submissionToApprove.userUid)\n      .collection('submissions')\n      .doc(this.state.submissionToApprove.docId)\n      .update({\n        status: {\n          approval: 'approved',\n          // In case of empty remarks\n          remarks: remarks == null ? '' : remarks,\n        },\n      });\n\n    // submission to official toilet database\n    // Downloads panorama to reupload\n    this.storage\n      .refFromURL(submission.paranomaUrl)\n      .getDownloadURL()\n      .then(url => {\n        // Downloading panorama\n        let xhr = new XMLHttpRequest();\n        xhr.responseType = 'blob';\n        xhr.onload = event => {\n          const blob = xhr.response;\n\n          // Uploading the downloaded blob\n          const uploadTask = this.storage\n            .ref()\n            .child(`approved/${submission.panoramaFileName}`)\n            .put(blob);\n\n          uploadTask.on(\n            'state_changed',\n            null,\n            error => console.log(error),\n            () => {\n              // Upload successful\n              uploadTask.snapshot.ref.getDownloadURL().then(panoramaUrl => {\n                // Submit to main db, changes the panoramaUrl too (This is\n                // largely your original code @zx)\n                this.toiletDb\n                  .doc(submission.name)\n                  .set({\n                    facilities: {\n                      female: submission.isFemale,\n                      handicapped: submission.isHandicapped,\n                      hose: submission.hasHose,\n                      male: submission.isMale,\n                      separateHandicapped: submission.isSeparateHandicapped,\n                      showerHeads: submission.hasShowerHeads,\n                      waterCooler: submission.hasWaterCooler,\n                    },\n                    lat: submission.lat,\n                    lon: submission.lon,\n                    name: submission.name,\n                    paranomaUrl: panoramaUrl,\n                  })\n                  .then(() => {\n                    this.setState({\n                      // submissions: submissions,\n                      approveDialogOpened: false,\n                    });\n                  }); // create a review object in the review database\n                this.reviewsDb.doc(submission.name).set({});\n              });\n            },\n          );\n        };\n        xhr.open('GET', url);\n        xhr.send();\n      });\n  }\n\n  handleRejectSubmissionClicked(submission, index) {\n\n    this.setState({\n      rejectDialogOpened: true,\n      submissionToReject: submission,\n      submissionIndex: index,\n    });\n  }\n\n  rejectSubmission() {\n    // update the rejection reason in the firestore\n    let remarks = this.state.remarks[this.state.submissionIndex];\n    this.submissionsDb\n      .doc(this.state.submissionToReject.userUid)\n      .collection('submissions')\n      .doc(this.state.submissionToReject.docId)\n      .update({\n        status: {\n          approval: 'rejected',\n          remarks: remarks ? remarks : this.state.submissionToReject.remarks,\n        },\n      })\n      .then(() => {\n        this.setState({\n          rejectDialogOpened: false,\n        });\n      })\n      .catch((error) => {\n        alert(\"There is an error rejecting the submission: \" + error)\n      });\n  }\n\n  handleTextChange(event, rowId) {\n    this.setState({\n      remarks: {\n        [rowId]: event.target.value,\n      },\n    });\n  }\n\n  generateTable() {\n    return this.state.submissions\n      .filter(unfilteredSubmission => {\n        return this.state.showApprovedReviews\n          ? unfilteredSubmission\n          : unfilteredSubmission.status === 'pending' ||\n          unfilteredSubmission.status === 'rejected';\n      })\n      .map((submission, i) => {\n        return (\n          <React.Fragment key={i}>\n            <TableRow>\n              <TableCell>\n                <ListItem\n                  style={{\n                    justifyContent: 'center',\n                    flexDirection: 'column',\n                    margin: 0,\n                    padding: 0,\n                  }}>\n                  <Avatar src={submission.userPhoto} />\n                  <Typography\n                    variant=\"body1\"\n                    noWrap={true}\n                    style={{ fontSize: 15, maxWidth: 120 }}>\n                    <b>{submission.currentUserName}</b>\n                  </Typography>\n                </ListItem>\n              </TableCell>\n              <TableCell>\n                {submission.name + ' '}\n\n                {/* Show preview button if toilet is not previewed. If toilet is\n              being previewed, then show hide button */}\n                {submission.rowId !== this.state.previewRow ? (\n                  <Button\n                    onClick={() =>\n                      this.setState({ previewRow: submission.rowId })\n                    }\n                    color=\"primary\">\n                    Preview\n                  </Button>\n                ) : (\n                    <Button\n                      onClick={() => this.setState({ previewRow: null })}\n                      color=\"secondary\">\n                      Hide\n                  </Button>\n                  )}\n              </TableCell>\n              <TableCell>\n                {submission.date.toDate().toLocaleString('default', {\n                  day: 'numeric',\n                  month: 'long',\n                  year: 'numeric',\n                  hour: 'numeric',\n                  minute: 'numeric',\n                })}\n              </TableCell>\n              <TableCell>{this.generateFacilities(submission)}</TableCell>\n              <TableCell size=\"small\">\n                {\n                  <TextField\n                    multiline\n                    value={this.state.remarks[submission.rowId] === undefined ? submission.remarks : this.state.remarks[submission.rowId]}\n                    margin=\"dense\"\n                    inputProps={{ style: { fontSize: 15 } }}\n                    onChange={event => {\n                      this.handleTextChange(event, submission.rowId)\n                    }}\n                  />\n                }\n              </TableCell>\n              <TableCell>\n                {submission.status == null ? 'Pending' : submission.status}{' '}\n              </TableCell>\n              <TableCell>\n                <IconButton onClick = {() => this.triggerDialogToConfirmApprove(submission, submission.rowId)} style = {{padding:5}}>\n                  <CheckIcon />\n                </IconButton>\n                <IconButton onClick = {() => this.handleRejectSubmissionClicked(submission, submission.rowId)} style = {{padding:5}}>\n                  <ClearIcon />\n                </IconButton>\n\n              </TableCell>\n            </TableRow>\n\n            {/* Sets up preview, hacky way to fit zx \n          data structure to Nelson's */}\n            {this.state.previewRow === submission.rowId && (\n              <TableRow>\n                <TableCell colSpan={7}>\n                  <Preview\n                    submission={Object.assign(\n                      {\n                        panorama: { url: submission.paranomaUrl },\n                        facilities: {\n                          hose: submission.hasHose,\n                          showerHeads: submission.hasShowerHeads,\n                          waterCooler: submission.hasWaterCooler,\n                          male: submission.isMale,\n                          separateHandicapped: submission.isSeparateHandicapped,\n                          handicapped: submission.isHandicapped,\n                          female: submission.isFemale,\n                        },\n                      },\n                      submission,\n                    )}\n                  />\n                </TableCell>\n              </TableRow>\n            )}\n          </React.Fragment>\n        );\n      });\n  }\n\n  handleSorting(event) {\n    let submissions = this.state.submissions.slice();\n\n    switch (event.target.value) {\n      case 'name':\n        submissions.sort(compareByName);\n        break;\n      case 'date':\n        submissions.sort(compareByDate);\n        break;\n      case 'status':\n        submissions.sort(compareByStatus);\n        break;\n      default:\n        break;\n    }\n\n    this.setState({ submissions, sortBy: event.target.value });\n  }\n\n  render() {\n    return (\n      <Container style={{ padding: 0, textAlign: 'center' }}>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={() =>\n            this.setState({\n              showApprovedReviews: !this.state.showApprovedReviews,\n            })\n          }>\n          {(this.state.showApprovedReviews ? 'Hide ' : 'Show ') +\n            'Approved Reviews'}\n        </Button>\n        <Paper style={{ margin: 20 }}>\n          <Dialog\n            onClose={() => {\n              this.setState({ approveDialogOpened: false });\n            }}\n            open={this.state.approveDialogOpened}>\n            <DialogTitle>Are you sure?</DialogTitle>\n            <DialogContent>\n              <DialogContentText>\n                {'Do you really want to approve ' +\n                  this.state.submissionToApprove.name +\n                  ' with the remarks ' +\n                  (this.state.remarks[this.state.submissionIndex]\n                    ? this.state.remarks[this.state.submissionIndex]\n                    : this.state.submissionToApprove.remarks) +\n                  '?'}\n              </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={() => this.approveSubmission()}>Approve</Button>\n              <Button\n                onClick={() => {\n                  this.setState({ approveDialogOpened: false });\n                }}>\n                Cancel\n              </Button>\n            </DialogActions>\n          </Dialog>\n          <Dialog\n            onClose={() => {\n              this.setState({ rejectDialogOpened: false });\n            }}\n            open={this.state.rejectDialogOpened}>\n            <DialogTitle>Are you sure?</DialogTitle>\n            <DialogContent>\n              <DialogContentText>\n                {'Do you really want to reject ' +\n                  this.state.submissionToReject.name +\n                  ' with the remarks ' +\n                  (this.state.remarks[this.state.submissionIndex]\n                    ? this.state.remarks[this.state.submissionIndex]\n                    : this.state.submissionToReject.remarks) +\n                  '?'}\n              </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={() => this.rejectSubmission()}>Reject</Button>\n              <Button\n                onClick={() => {\n                  this.setState({ rejectDialogOpened: false });\n                }}>\n                Cancel\n              </Button>\n            </DialogActions>\n          </Dialog>\n\n          <SortingDropdown\n            value={this.state.sortBy}\n            handleSorting={this.handleSorting}\n          />\n\n          <Table style={{ minWidth: 650 }}>\n            <TableHead>\n              <TableRow>\n                <TableCell>User</TableCell>\n                <TableCell>Name</TableCell>\n                <TableCell>Submission Date</TableCell>\n                <TableCell>Facilities</TableCell>\n                <TableCell>Remarks </TableCell>\n                <TableCell>Status</TableCell>\n                <TableCell>Action</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>{this.generateTable()}</TableBody>\n          </Table>\n        </Paper>\n      </Container>\n    );\n  }\n}\n\n// Comparators\nfunction compareByName(a, b) {\n  return a.name.localeCompare(b.name);\n}\n\nfunction compareByDate(a, b) {\n  return b.date.toDate() - a.date.toDate();\n}\n\nfunction compareByStatus(a, b) {\n  let aValue;\n  let bValue;\n\n  switch (a.status) {\n    case 'rejected':\n      aValue = -1;\n      break;\n    case 'approved':\n      aValue = 0;\n      break;\n    default:\n      aValue = 1;\n      break;\n  }\n\n  switch (b.status) {\n    case 'rejected':\n      bValue = -1;\n      break;\n    case 'approved':\n      bValue = 0;\n      break;\n    default:\n      bValue = 1;\n      break;\n  }\n\n  return aValue - bValue;\n}\n","import React from 'react';\n\nclass Map extends React.Component {\n  watchLocation() {\n    if (navigator.geolocation) {\n      this.props.setLocationAvailable();\n      this.id = navigator.geolocation.watchPosition(\n        position => {\n          const lat = position.coords.latitude;\n          const lon = position.coords.longitude;\n          this.props.updateMyLocation(lat, lon);\n\n          this.myLocation.setPosition({lat: lat, lng: lon});\n          this.accuracyRadius.setCenter({lat: lat, lng: lon});\n          this.accuracyRadius.setRadius(position.coords.accuracy);\n        },\n        () => this.props.setLocationNotAvailable(),\n        {\n          enableHighAccuracy: true,\n        },\n      );\n    } else {\n      // Browser doesn't support Geolocation\n      this.props.setLocationNotAvailable();\n    }\n  }\n\n  componentDidMount() {\n    const NUS = {lat: 1.296675, lng: 103.776396};\n    this.map = new window.google.maps.Map(document.getElementById('map'), {\n      zoom: 13,\n      center: NUS,\n    });\n\n    this.myLocation = new window.google.maps.Marker({\n      position: NUS,\n      map: this.map,\n      icon:\n        'https://raw.githubusercontent.com/nelsontky/let-it-go/master/assets/icons/locationMarker.png',\n    });\n\n    this.accuracyRadius = new window.google.maps.Circle({\n      map: this.map,\n      center: NUS,\n      radius: 0,\n      fillColor: '#00F',\n      fillOpacity: 0.2,\n      strokeWeight: 0,\n    });\n\n    // Click listeners\n    this.map.addListener('click', e => {\n      this.props.handleMapClick(e.latLng.lat(), e.latLng.lng());\n      if (this.marker != null) {\n        this.marker.setMap(null);\n      }\n      this.marker = new window.google.maps.Marker({\n        position: e.latLng,\n        map: this.map,\n      });\n    });\n    this.accuracyRadius.addListener('click', e => {\n      this.props.handleMapClick(e.latLng.lat(), e.latLng.lng());\n      if (this.marker != null) {\n        this.marker.setMap(null);\n      }\n      this.marker = new window.google.maps.Marker({\n        position: e.latLng,\n        map: this.map,\n      });\n    });\n    this.myLocation.addListener('click', () => {\n      this.props.handleMapClick(\n        this.myLocation.getPosition().lat(),\n        this.myLocation.getPosition().lng(),\n      );\n      if (this.marker != null) {\n        this.marker.setMap(null);\n      }\n      this.marker = new window.google.maps.Marker({\n        position: this.myLocation.getPosition(),\n        map: this.map,\n      });\n    });\n\n    // Location button\n    const self = this;\n    function CenterControl(controlDiv, map) {\n      // Set CSS for the control border.\n      let controlUI = document.createElement('div');\n      controlUI.style.backgroundColor = '#fff';\n      controlUI.style.border = '2px solid #fff';\n      controlUI.style.borderRadius = '3px';\n      controlUI.style.boxShadow = '0 2px 6px rgba(0,0,0,.3)';\n      controlUI.style.cursor = 'pointer';\n      controlUI.style.textAlign = 'center';\n      controlUI.style.marginBottom = '22px';\n      controlUI.style.height = '31px';\n      controlUI.title = 'Click to recenter the map to location';\n      controlDiv.appendChild(controlUI);\n\n      // Set CSS for the control interior.\n      let controlText = document.createElement('div');\n      controlText.innerHTML = \"<img src='https://i.imgur.com/raFRca2.png' />\";\n      controlUI.appendChild(controlText);\n\n      // Setup the click event listeners\n      controlUI.addEventListener('click', function() {\n        map.setCenter(self.myLocation.getPosition());\n      });\n    }\n\n    // Render the button\n    let centerControlDiv = document.createElement('div');\n    new CenterControl(centerControlDiv, this.map);\n\n    centerControlDiv.index = 1;\n    this.map.controls[window.google.maps.ControlPosition.LEFT_BOTTOM].push(\n      centerControlDiv,\n    );\n\n    this.watchLocation();\n  }\n\n  componentWillUnmount() {\n    navigator.geolocation.clearWatch(this.id);\n  }\n\n  render() {\n    return <div id=\"map\" style={{width: '100%', height: '300px'}}></div>;\n  }\n}\n\nexport default Map;\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\n\nexport default class Status extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {remarksShown: false};\n\n    this.approval = this.props.status.approval;\n    this.remarks = this.props.status.remarks;\n  }\n\n  render() {\n    if (this.approval === 'rejected') {\n      return (\n        <div>\n          <p style={{color: 'red'}}>\n            {'Rejected '}\n            <Button\n              color='primary'\n              onClick={() =>\n                this.setState({remarksShown: !this.state.remarksShown})\n              }>\n                {this.state.remarksShown ? 'Hide' : 'Show reason'}\n            </Button>\n          </p>\n          {this.state.remarksShown && <p>{this.remarks}</p>}\n        </div>\n      );\n    } else if (this.approval === 'pending') {\n      return (\n        <p>\n          <em>Submission pending review</em>\n        </p>\n      );\n    } else {\n      return <p style={{color: 'green'}}>Approved!</p>;\n    }\n  }\n}\n","import React from 'react';\nimport Preview from './preview';\nimport SubmissionsSortingDropdown from './submissionsSortingDropdown';\nimport Status from './status';\n\n// Material UI imports\nimport Button from '@material-ui/core/Button';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\n\nfunction compareByName(a, b) {\n  return a.submission.name.localeCompare(b.submission.name);\n}\n\nfunction compareByDate(a, b) {\n  return b.submission.date.toDate() - a.submission.date.toDate();\n}\n\nfunction compareByStatus(a, b) {\n  let aValue;\n  let bValue;\n\n  switch (a.submission.status.approval) {\n    case 'rejected':\n      aValue = -1;\n      break;\n    case 'approved':\n      aValue = 0;\n      break;\n    default:\n      aValue = 1;\n      break;\n  }\n\n  switch (b.submission.status.approval) {\n    case 'rejected':\n      bValue = -1;\n      break;\n    case 'approved':\n      bValue = 0;\n      break;\n    default:\n      bValue = 1;\n      break;\n  }\n\n  return aValue - bValue;\n}\n\nclass Submission extends React.Component {\n  constructor(props) {\n    super(props);\n    this.submission = this.props.children.submission;\n  }\n\n  render() {\n    return (\n      <div>\n        <h4>{this.submission.name}</h4>\n\n        {/* Status text */}\n        <Status status={this.submission.status} />\n        <div>\n          {/* Preview button */}\n          <Button\n            variant=\"contained\"\n            color={\n              this.props.children.id === this.props.previewId\n                ? 'secondary'\n                : 'default'\n            }\n            onClick={\n              this.props.children.id === this.props.previewId\n                ? this.props.handleHide\n                : () => this.props.handlePreview(this.props.children.id)\n            }>\n            {this.props.children.id === this.props.previewId\n              ? 'Hide'\n              : 'Preview'}\n          </Button>{' '}\n          {/* Edit button */}\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            disabled={this.submission.status.approval === 'approved'}\n            onClick={() =>\n              this.props.handleEdit(this.submission, this.props.children.id)\n            }>\n            Edit\n          </Button>{' '}\n          {/* Delete button */}\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            onClick={() =>\n              this.props.handleDelete(\n                this.submission.panorama.fileName,\n                this.props.children.id,\n              )\n            }>\n            Delete\n            <DeleteIcon />\n          </Button>\n        </div>\n        <br />\n        <div style={{color: 'gray', fontSize: '80%'}}>\n          Submitted:{' '}\n          {this.submission.date.toDate().toLocaleString('default', {\n            day: 'numeric',\n            month: 'long',\n            year: 'numeric',\n            hour: 'numeric',\n            minute: 'numeric',\n          })}\n        </div>\n        <br />\n        {this.props.children.id === this.props.previewId && (\n          <Preview submission={this.submission} />\n        )}\n      </div>\n    );\n  }\n}\n\nclass Submitted extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      submissions: [],\n      previewId: '',\n      loading: true,\n      sortBy: 'status',\n    };\n\n    // Read all of current user's submissions from firestore, then adds all\n    // submissions into state.\n    let submissions = [];\n    this.props.doc\n      .collection('submissions')\n      .get()\n      .then(querySnapshot =>\n        querySnapshot.forEach(doc => {\n          submissions.push({submission: doc.data(), id: doc.id});\n        }),\n      )\n      .then(() => {\n        // Sorts by status\n        submissions.sort(compareByStatus);\n        this.setState({submissions, loading: false});\n      });\n\n    this.handlePreview = this.handlePreview.bind(this);\n    this.handleHide = this.handleHide.bind(this);\n    this.handleSorting = this.handleSorting.bind(this);\n  }\n\n  handlePreview(docId) {\n    this.setState({\n      previewId: docId,\n    });\n  }\n\n  handleHide() {\n    this.setState({previewId: ''});\n  }\n\n  handleSorting(event) {\n    let submissions = this.state.submissions.slice();\n\n    switch (event.target.value) {\n      case 'name':\n        submissions.sort(compareByName);\n        break;\n      case 'date':\n        submissions.sort(compareByDate);\n        break;\n      case 'status':\n        submissions.sort(compareByStatus);\n        break;\n      default:\n        break;\n    }\n\n    this.setState({submissions, sortBy: event.target.value});\n  }\n\n  render() {\n    return (\n      <div>\n        {/* Loading message */}\n        {this.state.loading && <span>Loading... ...</span>}\n        {!this.state.loading && this.state.submissions.length === 0 && (\n          <span>You have not created any submissions (yet!)</span>\n        )}\n\n        {!this.state.loading && this.state.submissions.length !== 0 && (\n          <div>\n            <br />\n            <SubmissionsSortingDropdown\n              key={this.state.sortBy}\n              value={this.state.sortBy}\n              handleSorting={this.handleSorting}\n            />\n            <Table>\n              <TableBody>\n                {this.state.submissions.map((x, i) => (\n                  <TableRow key={i}>\n                    <TableCell>\n                      <Submission\n                        key={this.state.sortBy}\n                        handleEdit={this.props.handleEdit}\n                        handleDelete={this.props.handleDelete}\n                        handlePreview={this.handlePreview}\n                        handleHide={this.handleHide}\n                        previewId={this.state.previewId}>\n                        {x}\n                      </Submission>\n                    </TableCell>\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\nexport default Submitted;\n","import React from \"react\"\nimport Tippy from \"@tippy.js/react\"\n\nconst HelpButton = props => (\n  <Tippy\n    content={props.content}\n    arrow={true}\n    trigger=\"click\"\n    placement=\"bottom\"\n    interactive={true}\n  >\n    <img\n      style={{ verticalAlign: \"middle\" }}\n      src=\"https://material.io/tools/icons/static/icons/baseline-help_outline-24px.svg\"\n      alt=\"\"\n    />\n  </Tippy>\n)\n\nexport default HelpButton\n","import React from \"react\"\nimport HelpButton from \"./helpButton\"\n\nconst content = (\n  <div style={{ textAlign: \"left\" }}>\n    Check that you have:\n    <ul>\n      <li>\n        Enabled your device's GPS settings\n        <ul>\n          <li>\n            <a\n              style={{\n                textShadow: \"none\",\n              }}\n              href=\"https://support.google.com/accounts/answer/3467281\"\n              rel=\"noopener noreferrer\"\n              target=\"_blank\"\n            >\n              Android\n            </a>\n          </li>\n          <li>\n            <a\n              style={{ textShadow: \"none\" }}\n              href=\"https://support.apple.com/en-us/HT207092\"\n              rel=\"noopener noreferrer\"\n              target=\"_blank\"\n            >\n              iOS\n            </a>\n          </li>\n          <li>Reload this page after enabling GPS settings</li>\n        </ul>\n      </li>\n      <li>\n        Allowed your browser and this website the neccessary permissions to read\n        your location\n        <ul>\n          <li>Press allow when a similar prompt as below appears</li>\n          <li>If such a prompt does not appear, reload the page</li>\n        </ul>\n      </li>\n    </ul>\n    <img\n      src=\"https://raw.githubusercontent.com/nelsontky/let-it-go/master/assets/misc/locationHelp.png\"\n      alt=\"\"\n    />\n  </div>\n)\n\nexport default () => (\n  <p>\n    Location loading/not available<HelpButton content={content} />\n  </p>\n)\n","import React from \"react\";\nimport Map from \"./components/map\";\nimport Submitted from \"./components/submitted\";\nimport Layout from \"./components/layout\";\nimport firebase from \"./utils/firebase\";\nimport Resizer from \"react-image-file-resizer\";\nimport LocationHelp from \"./components/locationHelp\";\n\n// Material UI imports\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormLabel from \"@material-ui/core/FormLabel\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\n\nconst uniqid = require(\"uniqid\");\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      lat: 0,\n      lon: 0,\n      myLat: 0,\n      myLon: 0,\n      handicapped: false,\n      separateHandicapped: false,\n      hose: false,\n      showerHeads: false,\n      male: false,\n      female: false,\n      waterCooler: false,\n      progress: 0,\n      progressShown: false,\n      error: false,\n      submissionsShown: false,\n      isLocationAvailable: false,\n\n      // Fields in charge of editing.\n      edit: false,\n      panorama: {},\n      editPanorama: false,\n      editDocId: \"\"\n    };\n\n    this.fileInput = React.createRef();\n\n    this.db = firebase.firestore();\n    this.storage = firebase.storage();\n\n    // Document created by user\n    this.doc = this.db\n      .collection(\"userSubmissions\")\n      .doc(this.props.currentUser.uid);\n\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleMapClick = this.handleMapClick.bind(this);\n    this.updateMyLocation = this.updateMyLocation.bind(this);\n    this.setToCurrentLocation = this.setToCurrentLocation.bind(this);\n    this.setLocationNotAvailable = this.setLocationNotAvailable.bind(this);\n    this.setLocationAvailable = this.setLocationAvailable.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleEdit = this.handleEdit.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n  }\n\n  // Handles state of input forms\n  handleInputChange(event) {\n    const value =\n      event.target.type === \"checkbox\"\n        ? event.target.checked\n        : event.target.value;\n\n    if (event.target.name !== \"handicapped\") {\n      // Any checkbox/input that is not the handicapped checkbox, set state\n      // normally.\n      this.setState({\n        [event.target.name]: value\n      });\n    } else {\n      // For handicapped checkbox, have to make sure that separateHandicapped\n      // checkbox is unticked when handicapped checkbox is unticked.\n      this.setState({\n        [event.target.name]: value,\n        separateHandicapped: value && this.state.separateHandicapped\n      });\n    }\n  }\n\n  // Handles map clicks, will update lat lon field to clicked lat lon.\n  handleMapClick(lat, lon) {\n    this.setState({\n      lat,\n      lon\n    });\n  }\n\n  // Whenever geolocation code in Map component runs, myLat and myLon in local\n  // state will be updated.\n  updateMyLocation(myLat, myLon) {\n    this.setState({\n      myLat,\n      myLon\n    });\n  }\n\n  // Allows Map component to update App state\n  setLocationNotAvailable() {\n    this.setState({ isLocationAvailable: false });\n  }\n\n  setLocationAvailable() {\n    this.setState({ isLocationAvailable: true });\n  }\n\n  // Handles click on \"Set Lat Lon to current location button\". Does what\n  // the button says, sets Lat Lon state to that of current location.\n  // (if available)\n  setToCurrentLocation(event) {\n    event.preventDefault();\n    this.setState({\n      lat: this.state.myLat,\n      lon: this.state.myLon\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n\n    // If user is editing submission and does not choose to reupload panorama\n    if (this.state.edit && !this.state.editPanorama) {\n      this.doc\n        .collection(\"submissions\")\n        .doc()\n        .set({\n          facilities: {\n            female: this.state.female,\n            handicapped: this.state.handicapped,\n            hose: this.state.hose,\n            male: this.state.male,\n            separateHandicapped: this.state.separateHandicapped,\n            showerHeads: this.state.showerHeads,\n            waterCooler: this.state.waterCooler\n          },\n          lat: this.state.lat,\n          lon: this.state.lon,\n          name: this.state.name.trim(),\n\n          // Use old panorama.\n          panorama: this.state.panorama,\n\n          date: new Date(Date.now()),\n          status: { approval: \"pending\", remarks: \"\" }\n        })\n        .then(() => {\n          // Delete old version.\n          this.doc\n            .collection(\"submissions\")\n            .doc(this.state.editDocId)\n            .delete();\n        })\n        .then(() => window.location.reload());\n    } else {\n      // Ensures that file uploaded is an image. Does not work if file format\n      // was changed manually but submit will still not work, just that this\n      // warning will not show too.\n      if (\n        this.fileInput.current.files[0] == null ||\n        !/image\\/*/g.test(this.fileInput.current.files[0].type)\n      ) {\n        alert(\"Please make sure file uploaded is an image\");\n      } else {\n        // Resize images to max width of 4096 to support mobile, after resizing,\n        // image will be uploaded and firestore storage entry would be created.\n        Resizer.imageFileResizer(\n          this.fileInput.current.files[0],\n          4096,\n          4096,\n          \"JPEG\",\n          70,\n          0,\n          blob => {\n            // Show submission progress.\n            this.setState({ progressShown: true });\n\n            // Sets file name, file name appended with a unique id to prevent\n            // overwrites.\n            const fileName = `${this.state.name} - ${uniqid()}.jpeg`;\n\n            // Uploads image to firebase storage\n            let uploadTask = this.storage\n              .ref()\n              .child(`${this.props.currentUser.uid}/${fileName}`)\n              .put(blob);\n\n            uploadTask.on(\n              firebase.storage.TaskEvent.STATE_CHANGED,\n              snapshot => {\n                let progress =\n                  (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n\n                this.setState({ progress });\n              },\n              err => {\n                this.setState({ error: true });\n              },\n              () => {\n                // Upload completed successfully\n                uploadTask.snapshot.ref.getDownloadURL().then(url => {\n                  // Keys in current user info into the user's document,\n                  // excludes email for privacy reasons.\n                  this.doc.set({\n                    currentUser: {\n                      name: this.props.currentUser.displayName,\n                      photoURL: this.props.currentUser.photoURL,\n                      uid: this.props.currentUser.uid\n                    }\n                  });\n\n                  this.doc\n                    .collection(\"submissions\")\n                    .doc()\n                    .set({\n                      facilities: {\n                        female: this.state.female,\n                        handicapped: this.state.handicapped,\n                        hose: this.state.hose,\n                        male: this.state.male,\n                        separateHandicapped: this.state.separateHandicapped,\n                        showerHeads: this.state.showerHeads,\n                        waterCooler: this.state.waterCooler\n                      },\n                      lat: this.state.lat,\n                      lon: this.state.lon,\n                      name: this.state.name.trim(),\n                      panorama: { url, fileName },\n                      date: new Date(Date.now()),\n                      status: { approval: \"pending\", remarks: \"\" }\n                    })\n                    .then(() => {\n                      // If is editing submission, delete old version and old\n                      // panorama\n                      if (this.state.edit) {\n                        this.doc\n                          .collection(\"submissions\")\n                          .doc(this.state.editDocId)\n                          .delete();\n\n                        // Delete old panorama\n                        this.storage\n                          .ref()\n                          .child(\n                            `${this.props.currentUser.uid}/${this.state.panorama.fileName}`\n                          )\n                          .delete();\n                      }\n                    })\n                    .then(() => window.location.reload());\n                });\n              }\n            );\n          },\n          \"blob\"\n        );\n      }\n    }\n  }\n\n  // Handle the deleting of submission. Meant to be passed as a prop\n  // into <Submitted /> component.\n  handleDelete(fileName, submissionId) {\n    if (window.confirm(\"Are you sure you want to delete this submission?\")) {\n      // Deletes document from firestore.\n      this.doc\n        .collection(\"submissions\")\n        .doc(submissionId)\n        .delete()\n        .then(() =>\n          // Deletes panorama image from storage.\n          this.storage\n            .ref()\n            .child(`${this.props.currentUser.uid}/${fileName}`)\n            .delete()\n            .then(() => window.location.reload())\n        );\n    }\n  }\n\n  // Handle the editing of user submitted toilets. Meant to be passed as a prop\n  // into <Submitted /> component.\n  handleEdit(submission, submissionId) {\n    window.scrollTo(0, 0);\n    this.setState({\n      edit: true,\n      female: submission.facilities.female,\n      male: submission.facilities.male,\n      handicapped: submission.facilities.handicapped,\n      separateHandicapped: submission.facilities.separateHandicapped,\n      showerHeads: submission.facilities.showerHeads,\n      waterCooler: submission.facilities.waterCooler,\n      hose: submission.facilities.hose,\n      lat: submission.lat,\n      lon: submission.lon,\n      name: submission.name,\n      panorama: submission.panorama,\n      editDocId: submissionId\n    });\n  }\n\n  render() {\n    // console.log(this.state);\n    return (\n      <Layout>\n        <h1>Submit to Let It Go</h1>\n        {!this.state.isLocationAvailable && <LocationHelp />}\n        <a\n          href=\"https://github.com/nelsontky/let-it-go-submission/blob/master/HELPME.md\"\n          target=\"__blank\"\n          rel=\"noreferrer noopener\"\n        >\n          How do I do this?!\n        </a>\n        {this.state.edit && <h6>Editing submission</h6>}\n        {/* Main form */}\n        <form onSubmit={this.handleSubmit}>\n          {/* Toilet name input*/}\n          <TextField\n            label=\"Name\"\n            placeholder=\"Enter toilet name\"\n            fullWidth\n            margin=\"normal\"\n            variant=\"outlined\"\n            InputLabelProps={{\n              shrink: true\n            }}\n            name=\"name\"\n            onChange={this.handleInputChange}\n            value={this.state.name}\n          />\n          {/* Set Lat Lon to current location button */}\n          <Button onClick={this.setToCurrentLocation} variant=\"contained\">\n            Set Lat Lon to current location\n          </Button>\n          <br />\n          {/* Lat input */}\n          <TextField\n            style={{ marginRight: \"1em\" }}\n            label=\"Latitude\"\n            margin=\"normal\"\n            variant=\"outlined\"\n            name=\"lat\"\n            onChange={this.handleInputChange}\n            value={this.state.lat}\n          />\n          {/* Lon input */}\n          <TextField\n            label=\"Longitude\"\n            margin=\"normal\"\n            variant=\"outlined\"\n            name=\"lon\"\n            onChange={this.handleInputChange}\n            value={this.state.lon}\n          />\n          {/* Map component, takes in 2 functions that are needed to set local\n        state from child component */}\n          <Map\n            handleMapClick={this.handleMapClick}\n            updateMyLocation={this.updateMyLocation}\n            setLocationAvailable={this.setLocationAvailable}\n            setLocationNotAvailable={this.setLocationNotAvailable}\n          />\n          <br />\n          {/* Checkboxes */}\n          <FormLabel component=\"legend\">Facilities</FormLabel>\n          <FormGroup>\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={this.state.male}\n                  onChange={this.handleInputChange}\n                  name=\"male\"\n                />\n              }\n              label=\"Male\"\n            />\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={this.state.female}\n                  onChange={this.handleInputChange}\n                  name=\"female\"\n                />\n              }\n              label=\"Female\"\n            />\n\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={this.state.handicapped}\n                  onChange={this.handleInputChange}\n                  name=\"handicapped\"\n                />\n              }\n              label=\"Handicapped\"\n            />\n\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={this.state.separateHandicapped}\n                  onChange={this.handleInputChange}\n                  name=\"separateHandicapped\"\n                  disabled={!this.state.handicapped}\n                />\n              }\n              label=\"Separate Handicapped\"\n            />\n\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={this.state.hose}\n                  onChange={this.handleInputChange}\n                  name=\"hose\"\n                />\n              }\n              label=\"Hose\"\n            />\n\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={this.state.showerHeads}\n                  onChange={this.handleInputChange}\n                  name=\"showerHeads\"\n                />\n              }\n              label=\"Shower Heads\"\n            />\n\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={this.state.waterCooler}\n                  onChange={this.handleInputChange}\n                  name=\"waterCooler\"\n                />\n              }\n              label=\"Water Cooler\"\n            />\n          </FormGroup>\n          <br />\n\n          {/* Present user with choice to edit Panorama image if edit\n          mode is on */}\n          {this.state.edit && (\n            <div>\n              <FormControlLabel\n                control={\n                  <Checkbox\n                    checked={this.state.editPanorama}\n                    onChange={this.handleInputChange}\n                    name=\"editPanorama\"\n                  />\n                }\n                label=\"Edit Panorama image\"\n              />\n              <br />\n            </div>\n          )}\n\n          <input\n            type=\"file\"\n            name=\"paranomaPath\"\n            accept=\"image/*\"\n            ref={this.fileInput}\n            id=\"contained-button-file\"\n            style={{ display: \"none\" }}\n          />\n\n          {/* Do not show upload Panorama button if in edit mode and\n          edit panorama is not chosen */}\n          {(!this.state.edit || this.state.editPanorama) && (\n            <label htmlFor=\"contained-button-file\">\n              <Button variant=\"contained\" component=\"span\">\n                Select panorama image\n              </Button>\n            </label>\n          )}\n          <br />\n          <br />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            type=\"submit\"\n            disabled={\n              this.state.name === \"\" ||\n              this.state.lat === 0 ||\n              this.state.lon === 0\n            }\n          >\n            Submit\n          </Button>\n          {/* Progress indicator */}\n          <span>\n            {this.state.progressShown &&\n              \" \" + Math.floor(this.state.progress) + \"%\"}\n          </span>\n          {/* Error indicator */}\n          <p>\n            {this.state.error &&\n              \"An error occured, please refresh the page and try again\"}\n          </p>\n          {this.state.edit && (\n            <Button\n              variant=\"contained\"\n              color=\"secondary\"\n              onClick={() => window.location.reload()}\n            >\n              Cancel\n            </Button>\n          )}\n        </form>\n\n        <Button\n          color=\"secondary\"\n          onClick={() =>\n            this.setState({ submissionsShown: !this.state.submissionsShown })\n          }\n        >\n          {`${this.state.submissionsShown ? \"Hide\" : \"Show\"} your submissions`}\n        </Button>\n\n        {this.state.submissionsShown && (\n          <Submitted\n            uid={this.props.currentUser.uid}\n            doc={this.doc}\n            handleEdit={this.handleEdit}\n            handleDelete={this.handleDelete}\n          />\n        )}\n      </Layout>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport Admin from '../Admin';\nimport App from '../App';\n\nimport Button from '@material-ui/core/Button';\n\nexport default class SwitchPortals extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {isAdmin: true};\n  }\n\n  render() {\n    return (\n      <div>\n        <div style={{textAlign: 'center'}}>\n          <Button\n            onClick={() => this.setState({isAdmin: !this.state.isAdmin})}\n            variant=\"contained\"\n            color=\"secondary\">\n            {`Switch to ${this.state.isAdmin ? 'submission' : 'admin'} portal`}\n          </Button>\n        </div>\n        {!this.state.isAdmin ? (\n          <App currentUser={this.props.currentUser} />\n        ) : (\n          <Admin />\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport Layout from './components/layout';\nimport RandomToiletQuote from './components/randomToiletQuote';\nimport SwitchPortals from './components/switchPortals';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport firebase from './utils/firebase';\nimport App from './App';\n\nimport Button from '@material-ui/core/Button';\n\nfunction isNelsonOrZx(email) {\n  return email === 'lowzxx@gmail.com' || email === 'nelsontkyi@gmail.com';\n}\n\n// Implement Google and Firebase signin\n\nconst uiConfig = {\n  signInOptions: [firebase.auth.GoogleAuthProvider.PROVIDER_ID],\n};\n\nexport default class Main extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isSignedIn: false,\n    };\n  }\n\n  componentDidMount() {\n    this.unregisterAuthObserver = firebase\n      .auth()\n      .onAuthStateChanged(user => this.setState({isSignedIn: !!user}));\n  }\n\n  render() {\n    if (!this.state.isSignedIn) {\n      return (\n        <Layout>\n          <h1>Submit to Let It Go</h1>\n          <p>Please sign-in:</p>\n          <StyledFirebaseAuth\n            uiConfig={uiConfig}\n            firebaseAuth={firebase.auth()}\n          />\n          <RandomToiletQuote />\n        </Layout>\n      );\n    } else {\n      return (\n        <div>\n          <Layout>\n            <Button\n              variant=\"outlined\"\n              color=\"primary\"\n              onClick={() => firebase.auth().signOut()}>\n              Sign Out\n            </Button>\n          </Layout>\n\n          {/* Give option to switch portals if is admin logging in, else just\n          show the submission portal */}\n          {isNelsonOrZx(firebase.auth().currentUser.email) ? (\n            <SwitchPortals currentUser={firebase.auth().currentUser} />\n          ) : (\n            <App currentUser={firebase.auth().currentUser} />\n          )}\n        </div>\n      );\n    }\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Main from './Main';\nimport Typography from 'typography';\nimport fairyGatesTheme from 'typography-theme-fairy-gates';\nimport injectFonts from 'typography-inject-fonts';\n\nconst typography = new Typography(fairyGatesTheme);\ntypography.injectStyles()\ninjectFonts(typography)\n\nReactDOM.render(<Main />, document.getElementById('root'));\n"],"sourceRoot":""}